{% extends "base.html" %}
{% from 'macros.html' import render_pagination %}
{% block body %}

<h1>{{ _('API Doc') }}</h1>

<h2>To fetch a whole blacklist, simply run:</h2>

<div class="panel panel-default">
  <div class="panel-body">
    <code>curl {{url_for('api.index.get_blacklist', _external=True)}}</code>
 </div>
</div>

<p>
    <a href="#" class="btn btn-primary api-test" data-url="{{url_for('api.index.get_blacklist', _external=True)}}">Try it!</a>
</p>

<h2>Or if you like paged result:</h2>

<div class="panel panel-default">
  <div class="panel-body">
    <code>curl {{url_for('api.index.get_blacklist', _external=True, per_page=10, page=2)}}</code>
 </div>
</div>

<p>
    <a href="#" class="btn btn-primary api-test" data-url="{{url_for('api.index.get_blacklist', _external=True, per_page=10, page=1)}}">Try it!</a>
</p>

<h2>Basic filtering:</h2>

<div class="panel panel-default">
  <div class="panel-body">
    <code>curl {{url_for('api.index.get_blacklist', _external=True, bank_account='CZ')}}</code>
 </div>
</div>

<p>
    Allowed arguments are:
</p>
<ul>
    <li><b>dns</b>: Filter by blocked DNS </li>
    <li><b>redirects_to</b>: Filter by final URL</li>
    <li><b>a</b>: Filter by IPv4 address</li>
    <li><b>aaaa</b>: Filter by IPv6 address</li>
    <li><b>bank_account</b>: Filter by bank account</li>
</ul>

<p>
    <a href="#" class="btn btn-primary api-test" data-url="{{url_for('api.index.get_blacklist', _external=True, bank_account='CZ')}}">Try it!</a>
</p>

{% endblock %}
